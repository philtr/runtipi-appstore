{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "minio",
      "image": "minio/minio:RELEASE.2024-02-24T17-11-14Z",
      "isMain": true,
      "internalPort": 9001,
      "addPorts": [
        {
          "hostPort": 8000,
          "containerPort": 9000
        }
      ],
      "environment": {
        "MINIO_ROOT_USER": "${MINIO_ROOT_USER}",
        "MINIO_ROOT_PASSWORD": "${MINIO_ROOT_PASSWORD}",
        "MINIO_BROWSER_REDIRECT_URL": "${APP_PROTOCOL:-http}://${APP_DOMAIN}",
        "MINIO_DOMAIN": "Host(`${APP_DOMAIN}`)"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/minio/data",
          "containerPath": "/data"
        }
      ],
      "command": "server --console-address :9001 /data"
    }
  ]
}
